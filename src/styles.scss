@use '@angular/material' as mat;

@include mat.core();

// ============================================
// Custom Color Palette - Fleet Management Theme
// ============================================

// Primary Brand Colors (Deep Blue - Trust, Reliability)
$primary-50: #eff6ff;
$primary-100: #dbeafe;
$primary-200: #bfdbfe;
$primary-300: #93c5fd;
$primary-400: #60a5fa;
$primary-500: #3b82f6;
$primary-600: #2563eb;
$primary-700: #1d4ed8;
$primary-800: #1e40af;
$primary-900: #1e3a8a;

// Accent Colors (Amber - Energy, Action)
$accent-50: #fffbeb;
$accent-100: #fef3c7;
$accent-200: #fde68a;
$accent-300: #fcd34d;
$accent-400: #fbbf24;
$accent-500: #f59e0b;
$accent-600: #d97706;
$accent-700: #b45309;
$accent-800: #92400e;
$accent-900: #78350f;

// Status Colors
$success: #10b981;
$success-light: #34d399;
$success-dark: #059669;
$warning: #f59e0b;
$warning-light: #fbbf24;
$warning-dark: #d97706;
$error: #ef4444;
$error-light: #f87171;
$error-dark: #dc2626;
$info: #3b82f6;
$info-light: #60a5fa;
$info-dark: #2563eb;

// Neutral Colors
$gray-50: #f9fafb;
$gray-100: #f3f4f6;
$gray-200: #e5e7eb;
$gray-300: #d1d5db;
$gray-400: #9ca3af;
$gray-500: #6b7280;
$gray-600: #4b5563;
$gray-700: #374151;
$gray-800: #1f2937;
$gray-900: #111827;

// Material Theme Palettes
$primary-palette: mat.define-palette((
  50: $primary-50,
  100: $primary-100,
  200: $primary-200,
  300: $primary-300,
  400: $primary-400,
  500: $primary-500,
  600: $primary-600,
  700: $primary-700,
  800: $primary-800,
  900: $primary-900,
  A100: $primary-100,
  A200: $primary-300,
  A400: $primary-500,
  A700: $primary-700,
  contrast: (
    50: $gray-900,
    100: $gray-900,
    200: $gray-900,
    300: $gray-900,
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: $gray-900,
    A200: $gray-900,
    A400: white,
    A700: white,
  )
), 600, 100, 900);

$accent-palette: mat.define-palette((
  50: $accent-50,
  100: $accent-100,
  200: $accent-200,
  300: $accent-300,
  400: $accent-400,
  500: $accent-500,
  600: $accent-600,
  700: $accent-700,
  800: $accent-800,
  900: $accent-900,
  A100: $accent-100,
  A200: $accent-300,
  A400: $accent-500,
  A700: $accent-700,
  contrast: (
    50: $gray-900,
    100: $gray-900,
    200: $gray-900,
    300: $gray-900,
    400: $gray-900,
    500: $gray-900,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: $gray-900,
    A200: $gray-900,
    A400: $gray-900,
    A700: white,
  )
), 500, 100, 900);

$warn-palette: mat.define-palette(mat.$red-palette);

$fleet-theme: mat.define-light-theme((
  color: (
    primary: $primary-palette,
    accent: $accent-palette,
    warn: $warn-palette
  ),
  typography: mat.define-typography-config(
    $font-family: 'Inter, "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Roboto", sans-serif',
    $headline-1: mat.define-typography-level(2.5rem, 1.2, 700),
    $headline-2: mat.define-typography-level(2rem, 1.3, 600),
    $headline-3: mat.define-typography-level(1.5rem, 1.4, 600),
    $headline-4: mat.define-typography-level(1.25rem, 1.5, 500),
    $body-1: mat.define-typography-level(1rem, 1.6, 400),
    $body-2: mat.define-typography-level(0.875rem, 1.5, 400),
  )
));

@include mat.all-component-themes($fleet-theme);
@include mat.all-component-typographies($fleet-theme);

// ============================================
// Spacing System (8px grid)
// ============================================
$spacing-xs: 0.25rem;  // 4px
$spacing-sm: 0.5rem;   // 8px
$spacing-md: 1rem;     // 16px
$spacing-lg: 1.5rem;   // 24px
$spacing-xl: 2rem;     // 32px
$spacing-2xl: 3rem;    // 48px
$spacing-3xl: 4rem;    // 64px

// ============================================
// Global Styles
// ============================================
:root {
  font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont,
    'Roboto', sans-serif;
  background-color: $gray-50;
  color: $gray-900;
  
  // CSS Variables for easy access
  --color-primary: #{$primary-600};
  --color-accent: #{$accent-500};
  --color-success: #{$success};
  --color-warning: #{$warning};
  --color-error: #{$error};
  --color-info: #{$info};
  --spacing-xs: #{$spacing-xs};
  --spacing-sm: #{$spacing-sm};
  --spacing-md: #{$spacing-md};
  --spacing-lg: #{$spacing-lg};
  --spacing-xl: #{$spacing-xl};
  --spacing-2xl: #{$spacing-2xl};
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: $gray-50;
  font-size: 1rem;
  line-height: 1.6;
  color: $gray-900;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// ============================================
// Typography Scale
// ============================================
h1, h2, h3, h4, h5, h6 {
  margin: 0 0 $spacing-md 0;
  font-weight: 600;
  line-height: 1.2;
  color: $gray-900;
}

h1 {
  font-size: 2.5rem;
  font-weight: 700;
  line-height: 1.2;
}

h2 {
  font-size: 2rem;
  font-weight: 600;
  line-height: 1.3;
}

h3 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.4;
}

h4 {
  font-size: 1.25rem;
  font-weight: 500;
  line-height: 1.5;
}

p {
  margin: 0 0 $spacing-md 0;
  line-height: 1.6;
}

small {
  font-size: 0.875rem;
  line-height: 1.5;
}

// ============================================
// Links
// ============================================
a {
  color: $primary-600;
  text-decoration: none;
  transition: color 0.2s ease;
  
  &:hover {
    color: $primary-700;
    text-decoration: underline;
  }
  
  &:focus {
    outline: 2px solid $primary-500;
    outline-offset: 2px;
    border-radius: 4px;
  }
}

// ============================================
// Material Card Enhancements
// ============================================
.mat-mdc-card {
  border-radius: 12px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06) !important;
  transition: box-shadow 0.3s ease, transform 0.2s ease;
  border: 1px solid $gray-200;
  
  &:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  }
}

.mat-mdc-card-title {
  font-size: 1.25rem !important;
  font-weight: 600 !important;
  color: $gray-900 !important;
  margin-bottom: $spacing-md !important;
}

// ============================================
// Form Field Enhancements
// ============================================
.mat-mdc-form-field {
  margin-bottom: $spacing-md;
  
  .mat-mdc-text-field-wrapper {
    border-radius: 8px;
  }
  
  &.mat-form-field-appearance-outline {
    .mat-mdc-text-field-wrapper {
      .mat-mdc-form-field-flex {
        .mat-mdc-form-field-outline {
          border-radius: 8px;
        }
      }
    }
  }
}

.mat-mdc-form-field-subscript-wrapper {
  margin-top: $spacing-xs;
}

// ============================================
// Button Enhancements
// ============================================
.mat-mdc-raised-button,
.mat-mdc-unelevated-button {
  border-radius: 8px !important;
  font-weight: 500 !important;
  padding: 0.625rem 1.5rem !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24) !important;
  
  &:hover:not(:disabled) {
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23) !important;
    transform: translateY(-1px);
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24) !important;
  }
  
  mat-icon {
    margin-right: $spacing-sm;
  }
}

.mat-mdc-stroked-button {
  border-radius: 8px !important;
  font-weight: 500 !important;
  padding: 0.625rem 1.5rem !important;
  transition: all 0.2s ease !important;
  
  &:hover:not(:disabled) {
    background-color: $gray-50;
  }
}

// ============================================
// Status Badges/Chips
// ============================================
.status-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  
  &.status-available {
    background-color: rgba($success, 0.1);
    color: $success-dark;
  }
  
  &.status-intransit {
    background-color: rgba($info, 0.1);
    color: $info-dark;
  }
  
  &.status-maintenance {
    background-color: rgba($warning, 0.1);
    color: $warning-dark;
  }
  
  &.status-offline {
    background-color: rgba($gray-400, 0.1);
    color: $gray-700;
  }
  
  &.status-active {
    background-color: rgba($success, 0.1);
    color: $success-dark;
  }
  
  &.status-inactive {
    background-color: rgba($gray-400, 0.1);
    color: $gray-700;
  }
}

// ============================================
// Toast Notifications
// ============================================
.toast-error,
.mat-mdc-snack-bar-container.error {
  --mdc-snackbar-container-color: #{$error} !important;
  --mdc-snackbar-supporting-text-color: #fff !important;
}

.toast-warn,
.mat-mdc-snack-bar-container.warn {
  --mdc-snackbar-container-color: #{$warning} !important;
  --mdc-snackbar-supporting-text-color: #{$gray-900} !important;
}

.toast-info,
.mat-mdc-snack-bar-container.info {
  --mdc-snackbar-container-color: #{$info} !important;
  --mdc-snackbar-supporting-text-color: #fff !important;
}

.toast-success,
.mat-mdc-snack-bar-container.success {
  --mdc-snackbar-container-color: #{$success} !important;
  --mdc-snackbar-supporting-text-color: #fff !important;
}

// ============================================
// Utility Classes
// ============================================
.text-center {
  text-align: center;
}

.text-muted {
  color: $gray-600;
}

.mb-0 { margin-bottom: 0 !important; }
.mb-sm { margin-bottom: $spacing-sm !important; }
.mb-md { margin-bottom: $spacing-md !important; }
.mb-lg { margin-bottom: $spacing-lg !important; }

.mt-0 { margin-top: 0 !important; }
.mt-sm { margin-top: $spacing-sm !important; }
.mt-md { margin-top: $spacing-md !important; }
.mt-lg { margin-top: $spacing-lg !important; }

// ============================================
// Loading States
// ============================================
.loading-overlay {
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
  }
}

// ============================================
// Responsive Design
// ============================================
@media (max-width: 768px) {
  h1 { font-size: 2rem; }
  h2 { font-size: 1.75rem; }
  h3 { font-size: 1.25rem; }
  
  .mat-mdc-raised-button,
  .mat-mdc-unelevated-button {
    padding: 0.5rem 1.25rem !important;
    min-height: 44px; // Touch-friendly
  }
}
